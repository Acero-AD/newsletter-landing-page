---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import BenefitItem from '../components/BenefitItem.astro';
---

<Layout title="SomoBytes - Level Up Your Coding Skills">
  <div class="flex flex-col min-h-screen">
    <Header />
    
    <main class="flex-1 flex items-center justify-center py-12 px-4">
      <div class="container max-w-6xl mx-auto">
        <div class="grid gap-6 lg:grid-cols-2 lg:gap-12">
          <div class="flex flex-col justify-center space-y-4">
            <div class="space-y-2">
              <h1 class="text-3xl font-bold tracking-tighter sm:text-5xl xl:text-6xl/none">
                Level Up Your Coding Skills with SomoBytes
              </h1>
              <p class="max-w-[600px] text-purple-100 md:text-xl">
                Dive into engaging tutorials, expert tips, and the latest in software engineering. Join our community of passionate developers!
              </p>
            </div>
            <div class="w-full max-w-sm space-y-2">
              <form id="subscribe-form" class="flex flex-col space-y-2">
                <input type="email" id="email" placeholder="Enter your email" required
                       class="w-full px-3 py-2 bg-white/10 border border-white/20 rounded-md placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/50">
                <button type="submit"
                        class="w-full px-3 py-2 bg-white text-primary font-bold rounded-md hover:bg-purple-100 transition-colors">
                  Subscribe Now
                </button>
              </form>
              <p class="text-sm text-purple-100">
                Join 10,000+ developers already leveling up!
              </p>
            </div>
          </div>
          <div class="flex justify-center items-center">
            <img src="/placeholder.svg?height=400&width=400" alt="Content Creator"
                 class="rounded-full object-cover border-4 border-white shadow-2xl w-64 h-64 sm:w-80 sm:h-80">
          </div>
        </div>
      </div>
    </main>

    <section class="w-full py-12 md:py-24 lg:py-32 bg-white/10">
      <div class="container max-w-6xl mx-auto px-4">
        <h2 class="text-3xl font-bold text-center mb-8">Why Join SomoBytes?</h2>
        <div class="grid gap-6 md:grid-cols-3">
          <BenefitItem
            icon="youtube"
            title="Weekly Tutorials"
            description="Fresh content every week to keep you up-to-date with the latest tech trends."
            iconColor="text-yellow-300"
          />
          <BenefitItem
            icon="mail"
            title="Exclusive Newsletter"
            description="Get insider tips and tricks directly in your inbox."
            iconColor="text-green-300"
          />
          <BenefitItem
            icon="arrow-right"
            title="Career Growth"
            description="Learn skills that will propel your software engineering career forward."
            iconColor="text-blue-300"
          />
        </div>
      </div>
    </section>

    <Footer />
  </div>
</Layout>

<script>
  import { createIcons, Youtube, Mail, ArrowRight } from 'lucide';

  // Initialize Lucide icons
  createIcons({
    icons: {
      Youtube,
      Mail,
      ArrowRight
    }
  });

  document.getElementById('subscribe-form').addEventListener('submit', async function(e) {
    e.preventDefault();
    const email = document.getElementById('email').value;
    
    try {
      const response = await fetch('/api/subscribe', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({ email }),
      });

      const data = await response.json();

      if (data.success) {
        alert('Thank you for subscribing!');
        document.getElementById('email').value = '';
      } else {
        alert(`Oops! ${data.message}`);
      }
    } catch (error) {
      console.error('Error:', error);
      alert('An error occurred. Please try again later.');
    }
  });
</script>/script>/script>
